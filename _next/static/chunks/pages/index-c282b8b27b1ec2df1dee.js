(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1291:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var r=n(6156),a=n(5893),i=n(2465),o=n(3391),s=n(7294),l=n(1286),c=n(6505),d=n(2866),p=n(6010),h=n(6518),m=n.n(h),u=n(1142),f=n.n(u),g=n(9008),x=n(129),y=n.n(x),j=n(2283),w=n(9723),v=n(584),b=n(8276),N=n(9163);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){return(0,a.jsx)(S,O(O({},e),{},{children:(0,a.jsx)("a",{href:"https://flayyer.com?ref=studio",rel:"noreferrer noopener",target:"_blank",children:"FLAYYER STUDIO"})}))}var S=N.ZP.p.withConfig({displayName:"FlayyerLogo__Logo",componentId:"sc-11fxrru-0"})(["font-family:IBM Plex Sans;font-size:1em;line-height:1.5;cursor:pointer;box-sizing:inherit;font-style:inherit;font-weight:bold;color:#4346de;text-align:center;padding:1.5rem;padding-bottom:calc(0.75rem * 3);"]),k=N.ZP.iframe.withConfig({displayName:"IFrame",componentId:"sc-12yq4i3-0"})(["margin:0;border:0;padding:0;overflow:hidden;width:",";height:",";transform:scale(",");transform-origin:left top;"],(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.ratio})),I=N.ZP.div.withConfig({displayName:"IFrame__IFrameWrap",componentId:"sc-12yq4i3-1"})(["width:calc("," * ",");height:calc("," * ",");position:absolute;overflow:hidden;"],(function(e){return e.width}),(function(e){return e.ratio}),(function(e){return e.height}),(function(e){return e.ratio})),C=N.ZP.div.withConfig({displayName:"IFrame__IFrameContainer",componentId:"sc-12yq4i3-2"})(["position:relative;overflow:hidden;width:calc("," * ",");height:calc("," * ",");box-shadow:20px 20px 60px #acacac;"],(function(e){return e.width}),(function(e){return e.ratio}),(function(e){return e.height}),(function(e){return e.ratio})),Z=N.ZP.div.withConfig({displayName:"Layer",componentId:"qpgepk-0"})(["position:absolute;top:0;right:0;bottom:0;left:0;background-color:transparent;"]),E=(0,N.ZP)(Z).withConfig({displayName:"Workspace__WorkspaceBackground",componentId:"sc-1bwhowg-0"})(["background-color:#e5e5e5;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%239C92AC' fill-opacity='0.2' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E\");"]),R=(0,N.ZP)(Z).withConfig({displayName:"Workspace__WorkspaceContent",componentId:"sc-1bwhowg-1"})(["display:flex;flex-direction:row;justify-content:center;align-items:center;padding-top:calc(0.75rem * 3);"]),A=N.ZP.div.withConfig({displayName:"Workspace__WorkspaceContentItem",componentId:"sc-1bwhowg-2"})(["margin:0 0.75rem;"]),B=(0,N.ZP)(Z).withConfig({displayName:"Workspace__WorkspaceMenu",componentId:"sc-1bwhowg-3"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:center;pointer-events:none;padding:calc(0.75rem * 2);"]),U=N.ZP.div.withConfig({displayName:"Workspace__WorkspaceMenuItem",componentId:"sc-1bwhowg-4"})(["pointer-events:auto;display:flex;flex-direction:row;justify-content:center;align-items:center;"]);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(){var e=(0,i.Z)(["\n    The official developer workspace to create and preview your Flayyers locally.\n    It connects to your localhost so you don't need to install additional software.\n  "]);return W=function(){return e},e}var z,F=new l.ZP({tenant:"flayyer",deck:"landing",template:"demo",extension:"png",meta:{id:"flayyer-studio"},variables:{title:"Flayyer Studio",description:"Development companion tool"}}),D=N.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-1f6ylah-0"})(["width:100vw;height:100vh;display:flex;flex-direction:row;justify-content:flex-start;align-items:stretch;"]),H=N.ZP.aside.withConfig({displayName:"pages__Aside",componentId:"sc-1f6ylah-1"})(["width:320px;box-shadow:0px 0px 10px #acacac;background-color:white;padding:0.75rem;overflow-y:scroll;z-index:10;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;"]),M=N.ZP.div.withConfig({displayName:"pages__Content",componentId:"sc-1f6ylah-2"})(["position:relative;flex:1;overflow:hidden;"]),Y=f().stringify({title:"Hello World"},null,2);function q(e){var t=new URL(e.template,e.base);return t.search=y().stringify(f().parse(e.variables||"{}")),t}!function(e){e.THUMBNAIL="THUMBNAIL",e.BANNER="BANNER",e.SQUARE="SQUARE",e.STORY="STORY"}(z||(z={}));var Q=new Set([z.BANNER]);function V(){var e=(0,w.Z)(Q),t=(0,o.Z)(e,2),n=t[0],r=t[1],i=(0,s.useState)(.4),l=i[0],h=i[1],u=(0,s.useState)(),f=u[0],x=u[1],y=(0,j.cI)({mode:"onBlur",defaultValues:{agent:""}}),N=y.reset,_=y.formState.errors,O=(0,v.Z)("settings"),S=(0,o.Z)(O,2),Z=S[0],T=S[1],V=(0,b.Z)("template")||"main",J=(0,b.Z)("protocol")||"http:",K=(0,b.Z)("host")||"localhost",$=(0,b.Z)("port")||"7777";(0,s.useEffect)((function(){var e=J.endsWith(":")?J:"".concat(J,":"),t={template:V,base:e+"//"+K+":"+$,variables:null!==Z&&void 0!==Z&&Z.variables?Z.variables:Y};N(t),x(q(t)),null!==Z&&void 0!==Z&&Z.ratio&&h(Z.ratio),null!==Z&&void 0!==Z&&Z.modes&&Z.modes.forEach((function(e){return r.add(e)}))}),[N,V,J,K,$]);var ee=y.handleSubmit((function(e){try{x(q(e));var t={ratio:l,variables:y.getValues("variables"),modes:Array.from(n)};T(t)}catch(r){console.error(r),alert(r.message)}}));var te=[{name:"Thumbnail (small)",mode:z.THUMBNAIL,size:c.u8.THUMBNAIL,action:function(){r.toggle(z.THUMBNAIL)}},{name:"Banner (1:1.91)",mode:z.BANNER,size:c.u8.BANNER,action:function(){r.toggle(z.BANNER)}},{name:"Square (1:1)",mode:z.SQUARE,size:c.u8.SQUARE,action:function(){r.toggle(z.SQUARE)}},{name:"Story (9:16)",mode:z.STORY,size:c.u8.STORY,action:function(){r.toggle(z.STORY)}}],ne=y.watch("agent"),re="https://flayyer.github.io/flayyer-studio",ae="@flayyer_com",ie="Flayyer Studio for developers",oe=m()(W());return(0,a.jsxs)("div",{children:[(0,a.jsxs)(g.default,{children:[(0,a.jsx)("meta",{charSet:"UTF-8"}),(0,a.jsx)("title",{children:"Flayyer Studio"}),(0,a.jsx)("link",{rel:"icon",href:"/flayyer-studio/favicon.ico?__v=1"}),(0,a.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/flayyer-studio/apple-touch-icon.png"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/flayyer-studio/favicon-32x32.png"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/flayyer-studio/favicon-16x16.png"}),(0,a.jsx)("link",{rel:"manifest",href:"/flayyer-studio/site.webmanifest"}),(0,a.jsx)("meta",{property:"og:title",content:ie}),(0,a.jsx)("meta",{property:"og:description",content:oe}),(0,a.jsx)("meta",{property:"og:url",content:re}),(0,a.jsx)("meta",{property:"og:image",content:F.href()}),(0,a.jsx)("meta",{property:"og:site_name",content:"Flayyer Studio"}),(0,a.jsx)("meta",{property:"og:locale",content:"en_US"}),(0,a.jsx)("meta",{name:"twitter:title",content:ie}),(0,a.jsx)("meta",{name:"twitter:description",content:oe}),(0,a.jsx)("meta",{name:"twitter:url",content:re}),(0,a.jsx)("meta",{name:"twitter:site",content:ae}),(0,a.jsx)("meta",{name:"twitter:creator",content:ae}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:image",content:F.href()})]}),(0,a.jsx)("main",{children:(0,a.jsxs)(D,{children:[(0,a.jsxs)(H,{children:[(0,a.jsx)("div",{children:(0,a.jsx)(P,{})}),(0,a.jsxs)("form",{onSubmit:ee,children:[(0,a.jsx)("div",{className:"field",children:(0,a.jsxs)("p",{children:["Get the Base URL by running ",(0,a.jsx)("code",{children:"npm start"})," or ",(0,a.jsx)("code",{children:"yarn start"})," on your project created with"," ",(0,a.jsx)("a",{href:"https://github.com/flayyer/create-flayyer-app",target:"_blank",rel:"noopener noreferrer",children:"create-flayyer-app"})]})}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Base URL"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",L(L({className:"input",type:"url"},y.register("base",{validate:{url:X}})),{},{placeholder:"http://localhost:7777"}))}),(0,a.jsx)("p",{className:"help is-danger",children:(0,a.jsx)(d.B,{name:"base",errors:_})})]}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Template"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",L(L({className:"input",type:"text"},y.register("template")),{},{placeholder:"main"}))}),(0,a.jsx)("p",{className:"help is-danger",children:(0,a.jsx)(d.B,{name:"template",errors:_})}),(0,a.jsx)("p",{className:"help",children:"Same as your template's file name without extension"})]}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"User agent"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("div",{className:"select is-fullwidth",children:(0,a.jsxs)("select",L(L({},y.register("agent")),{},{children:[(0,a.jsx)("option",{value:"",children:"Default"}),(0,a.jsx)("option",{value:"whatsapp",children:"WhatsApp"})]}))})}),(0,a.jsxs)("p",{className:"help",children:["Read this value form the ",(0,a.jsx)("code",{children:"agent"})," prop"]})]}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Variables"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("textarea",L(L({style:{minHeight:"100px"},className:"input"},y.register("variables",{validate:{json:G}})),{},{rows:4,placeholder:"{}"}))}),(0,a.jsx)("p",{className:"help is-danger",children:(0,a.jsx)(d.B,{name:"variables",errors:_})}),(0,a.jsxs)("p",{className:"help",children:["Read this value form the ",(0,a.jsx)("code",{children:"variables"})," prop"]})]}),(0,a.jsx)("button",{type:"submit",className:"my-4 button is-primary is-fullwidth has-text-weight-semibold",children:"Refresh"})]})]}),(0,a.jsxs)(M,{children:[(0,a.jsx)(E,{}),(0,a.jsx)(R,{children:te.map((function(e){if(f&&n.has(e.mode)){var t=(0,o.Z)(e.size,2),r=t[0],i=t[1],s={width:r+"px",height:i+"px",ratio:l,mode:e.mode},c=new URL(f.href);return c.pathname.endsWith(".html")||(c.pathname=c.pathname+".html"),c.searchParams.set("_w",String(r)),c.searchParams.set("_h",String(i)),ne&&c.searchParams.set("_ua",ne),(0,a.jsxs)(A,{children:[(0,a.jsxs)("p",{style:{zIndex:9},children:[r," x ",i,"px"]}),(0,a.jsx)(C,L(L({},s),{},{children:c&&(0,a.jsx)(I,L(L({},s),{},{children:(0,a.jsx)(k,L(L({},s),{},{src:c.href}))}))}))]},e.mode)}}))}),(0,a.jsx)(B,{children:(0,a.jsxs)(U,{children:[(0,a.jsx)("div",{className:"field has-addons has-shadow",children:te.map((function(e){return(0,a.jsx)("p",{className:"control",children:(0,a.jsx)("button",{className:(0,p.Z)({"button is-primary is-light has-text-weight-semibold":!0,"is-active":n.has(e.mode)}),onClick:e.action,children:(0,a.jsx)("span",{children:e.name})})},e.mode)}))}),(0,a.jsxs)("div",{className:"field",style:{marginLeft:"1.5rem"},children:[(0,a.jsx)("label",{style:{display:"none"},className:"label",children:"Zoom"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{type:"range",min:"0.10",max:"1",step:.001,value:l,onChange:function(e){h(Number(e.target.value))}})})]})]})})]})]})})]})}function X(e){try{return new URL(e),!0}catch(t){return t.message}}function G(e){if(!e)return!0;try{return f().parse(e),!0}catch(t){return t.message}}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1291)}])},4654:function(){}},function(e){e.O(0,[774,28],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
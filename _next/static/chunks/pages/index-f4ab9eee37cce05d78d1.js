(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5722:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return M}});var n,i=a(6156),r=a(5893),s=a(3391),l=a(7294),o=a(1286),c=a(6505),d=a(2866),h=a(6010),p=a(1142),m=a.n(p),f=a(9008),u=a(129),g=a.n(u),x=a(2283),y=a(9723),j=a(584),v=a(8276),w=a(9163);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,i.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}!function(e){e.THUMBNAIL="THUMBNAIL",e.BANNER="BANNER",e.SQUARE="SQUARE",e.STORY="STORY"}(n||(n={}));var _=new o.ZP({tenant:"flayyer",deck:"landing",template:"demo",extension:"png",meta:{id:"flayyer-studio"},variables:{title:"Flayyer Studio",description:"Development companion tool"}}),S=w.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-1f6ylah-0"})(["width:100vw;height:100vh;display:flex;flex-direction:row;justify-content:flex-start;align-items:stretch;"]),C=w.ZP.aside.withConfig({displayName:"pages__Aside",componentId:"sc-1f6ylah-1"})(["width:320px;box-shadow:0px 0px 10px #acacac;background-color:white;padding:0.75rem;overflow-y:scroll;z-index:10;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;"]),P=w.ZP.div.withConfig({displayName:"pages__Content",componentId:"sc-1f6ylah-2"})(["position:relative;flex:1;overflow:hidden;"]),I=w.ZP.iframe.withConfig({displayName:"pages__IFrame",componentId:"sc-1f6ylah-3"})(["margin:0;border:0;padding:0;overflow:hidden;width:",";height:",";transform:scale(",");transform-origin:left top;"],(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.ratio})),E=w.ZP.div.withConfig({displayName:"pages__IFrameWrap",componentId:"sc-1f6ylah-4"})(["width:calc("," * ",");height:calc("," * ",");position:absolute;overflow:hidden;"],(function(e){return e.width}),(function(e){return e.ratio}),(function(e){return e.height}),(function(e){return e.ratio})),O=w.ZP.div.withConfig({displayName:"pages__IFrameContainer",componentId:"sc-1f6ylah-5"})(["position:relative;overflow:hidden;width:calc("," * ",");height:calc("," * ",");box-shadow:20px 20px 60px #acacac;"],(function(e){return e.width}),(function(e){return e.ratio}),(function(e){return e.height}),(function(e){return e.ratio})),R=w.ZP.div.withConfig({displayName:"pages__Layer",componentId:"sc-1f6ylah-6"})(["position:absolute;top:0;right:0;bottom:0;left:0;background-color:transparent;"]),Z=(0,w.ZP)(R).withConfig({displayName:"pages__WorkspaceBackground",componentId:"sc-1f6ylah-7"})(["background-color:#e5e5e5;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%239C92AC' fill-opacity='0.2' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E\");"]),A=(0,w.ZP)(R).withConfig({displayName:"pages__WorkspaceContent",componentId:"sc-1f6ylah-8"})(["display:flex;flex-direction:row;justify-content:center;align-items:center;padding-top:calc(0.75rem * 3);"]),B=w.ZP.div.withConfig({displayName:"pages__WorkspaceContentItem",componentId:"sc-1f6ylah-9"})(["margin:0 0.75rem;"]),k=(0,w.ZP)(R).withConfig({displayName:"pages__WorkspaceMenu",componentId:"sc-1f6ylah-10"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:center;pointer-events:none;padding:calc(0.75rem * 2);"]),U=w.ZP.div.withConfig({displayName:"pages__WorkspaceMenuItem",componentId:"sc-1f6ylah-11"})(["pointer-events:auto;display:flex;flex-direction:row;justify-content:center;align-items:center;"]),T=w.ZP.p.withConfig({displayName:"pages__Logo",componentId:"sc-1f6ylah-12"})(["font-family:IBM Plex Sans;font-size:1em;line-height:1.5;cursor:pointer;box-sizing:inherit;font-style:inherit;font-weight:bold;color:#4346de;text-align:center;padding:1.5rem;padding-bottom:calc(0.75rem * 3);"]),L=m().stringify({title:"Hello World"},null,2);function z(e){var t=new URL(e.template,e.base);return t.search=g().stringify(m().parse(e.variables||"{}")),t}var H=new Set([n.BANNER]);function M(){var e=(0,y.Z)(H),t=(0,s.Z)(e,2),a=t[0],i=t[1],o=(0,l.useState)(.4),p=o[0],m=o[1],u=(0,l.useState)(),g=u[0],w=u[1],b=(0,x.cI)({mode:"onBlur",defaultValues:{agent:""}}),R=b.reset,M=b.formState.errors,D=(0,j.Z)("settings"),Y=(0,s.Z)(D,2),Q=Y[0],V=Y[1],X=(0,v.Z)("template")||"main",q=(0,v.Z)("host")||"localhost",G=(0,v.Z)("port")||"7777";(0,l.useEffect)((function(){var e={template:X,base:"http://"+q+":"+G,variables:null!==Q&&void 0!==Q&&Q.variables?Q.variables:L};R(e),w(z(e)),null!==Q&&void 0!==Q&&Q.ratio&&m(Q.ratio),null!==Q&&void 0!==Q&&Q.modes&&Q.modes.forEach((function(e){return i.add(e)}))}),[R,X,q,G]);var J=b.handleSubmit((function(e){try{w(z(e)),V({ratio:p,variables:b.getValues("variables"),modes:Array.from(a)})}catch(t){console.error(t),alert(t.message)}}));var K=[{name:"Thumbnail (small)",mode:n.THUMBNAIL,size:c.u.THUMBNAIL,action:function(){i.toggle(n.THUMBNAIL)}},{name:"Banner (1:1.91)",mode:n.BANNER,size:c.u.BANNER,action:function(){i.toggle(n.BANNER)}},{name:"Square (1:1)",mode:n.SQUARE,size:c.u.SQUARE,action:function(){i.toggle(n.SQUARE)}},{name:"Story (9:16)",mode:n.STORY,size:c.u.STORY,action:function(){i.toggle(n.STORY)}}],$=b.watch("agent");return(0,r.jsxs)("div",{children:[(0,r.jsxs)(f.default,{children:[(0,r.jsx)("title",{children:"Flayyer Studio"}),(0,r.jsx)("link",{rel:"icon",href:"/flayyer-studio/favicon.ico"}),(0,r.jsx)("meta",{charSet:"UTF-8"}),(0,r.jsx)("meta",{property:"og:title",content:"Flayyer Studio"}),(0,r.jsx)("meta",{property:"og:description",content:"Test your flayyers locally"}),(0,r.jsx)("meta",{name:"twitter:site",content:"https://flayyer.github.io/flayyer-studio"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:image",content:_.href()}),(0,r.jsx)("meta",{property:"og:image",content:_.href()})]}),(0,r.jsx)("main",{children:(0,r.jsxs)(S,{children:[(0,r.jsxs)(C,{children:[(0,r.jsx)("div",{children:(0,r.jsx)(T,{children:(0,r.jsx)("a",{href:"https://flayyer.com?ref=studio",rel:"noreferrer noopener",target:"_blank",children:"FLAYYER STUDIO"})})}),(0,r.jsxs)("form",{onSubmit:J,children:[(0,r.jsx)("div",{className:"field",children:(0,r.jsxs)("p",{children:["Get the Base URL by running ",(0,r.jsx)("code",{children:"npm start"})," or ",(0,r.jsx)("code",{children:"yarn start"})," on your project created with"," ",(0,r.jsx)("a",{href:"https://github.com/flayyer/create-flayyer-app",target:"_blank",rel:"noopener noreferrer",children:"create-flayyer-app"})]})}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{className:"label",children:"Base URL"}),(0,r.jsx)("div",{className:"control",children:(0,r.jsx)("input",N(N({className:"input",type:"url"},b.register("base",{validate:{url:W}})),{},{placeholder:"http://localhost:7777"}))}),(0,r.jsx)("p",{className:"help is-danger",children:(0,r.jsx)(d.B,{name:"base",errors:M})})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{className:"label",children:"Template"}),(0,r.jsx)("div",{className:"control",children:(0,r.jsx)("input",N(N({className:"input",type:"text"},b.register("template")),{},{placeholder:"main"}))}),(0,r.jsx)("p",{className:"help is-danger",children:(0,r.jsx)(d.B,{name:"template",errors:M})}),(0,r.jsx)("p",{className:"help",children:"Same as your template's file name without extension"})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{className:"label",children:"User agent"}),(0,r.jsx)("div",{className:"control",children:(0,r.jsx)("div",{className:"select is-fullwidth",children:(0,r.jsxs)("select",N(N({},b.register("agent")),{},{children:[(0,r.jsx)("option",{value:"",children:"Default"}),(0,r.jsx)("option",{value:"whatsapp",children:"WhatsApp"})]}))})}),(0,r.jsxs)("p",{className:"help",children:["Read this value form the ",(0,r.jsx)("code",{children:"agent"})," prop"]})]}),(0,r.jsxs)("div",{className:"field",children:[(0,r.jsx)("label",{className:"label",children:"Variables"}),(0,r.jsx)("div",{className:"control",children:(0,r.jsx)("textarea",N(N({style:{minHeight:"100px"},className:"input"},b.register("variables",{validate:{json:F}})),{},{rows:4,placeholder:"{}"}))}),(0,r.jsx)("p",{className:"help is-danger",children:(0,r.jsx)(d.B,{name:"variables",errors:M})}),(0,r.jsxs)("p",{className:"help",children:["Read this value form the ",(0,r.jsx)("code",{children:"variables"})," prop"]})]}),(0,r.jsx)("button",{type:"submit",className:"my-4 button is-primary is-fullwidth has-text-weight-semibold",children:"Refresh"})]})]}),(0,r.jsxs)(P,{children:[(0,r.jsx)(Z,{}),(0,r.jsx)(A,{children:K.map((function(e){if(g&&a.has(e.mode)){var t=(0,s.Z)(e.size,2),n=t[0],i=t[1],l={width:n+"px",height:i+"px",ratio:p,mode:e.mode},o=new URL(g.href);return o.pathname.endsWith(".html")||(o.pathname=o.pathname+".html"),o.searchParams.set("_w",String(n)),o.searchParams.set("_h",String(i)),$&&o.searchParams.set("_ua",$),(0,r.jsxs)(B,{children:[(0,r.jsxs)("p",{style:{zIndex:9},children:[n," x ",i,"px"]}),(0,r.jsx)(O,N(N({},l),{},{children:o&&(0,r.jsx)(E,N(N({},l),{},{children:(0,r.jsx)(I,N(N({},l),{},{src:o.href}))}))}))]},e.mode)}}))}),(0,r.jsx)(k,{children:(0,r.jsxs)(U,{children:[(0,r.jsx)("div",{className:"field has-addons has-shadow",children:K.map((function(e){return(0,r.jsx)("p",{className:"control",children:(0,r.jsx)("button",{className:(0,h.Z)({"button is-primary is-light has-text-weight-semibold":!0,"is-active":a.has(e.mode)}),onClick:e.action,children:(0,r.jsx)("span",{children:e.name})})},e.mode)}))}),(0,r.jsxs)("div",{className:"field",style:{marginLeft:"1.5rem"},children:[(0,r.jsx)("label",{style:{display:"none"},className:"label",children:"Zoom"}),(0,r.jsx)("div",{className:"control",children:(0,r.jsx)("input",{type:"range",min:"0.10",max:"1",step:.001,value:p,onChange:function(e){m(Number(e.target.value))}})})]})]})})]})]})})]})}function W(e){try{return new URL(e),!0}catch(t){return t.message}}function F(e){if(!e)return!0;try{return m().parse(e),!0}catch(t){return t.message}}},5301:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(5722)}])},4654:function(){}},function(e){e.O(0,[774,207],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);